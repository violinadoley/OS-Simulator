<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link href="css/dining.css" rel="stylesheet" />
	<script type="text/javascript" src="../Index/js/scrolloverflow.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="../Index/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" />
   	<script type="text/javascript" src="../Index/js/jquery.fullPage.js"></script>
    <!-- <script type="text/javascript">
    	$(document).ready(function() {
    		$('#fullpage').fullpage({
    			sectionsColor: ['#00000'],
    			anchors: ['anime'],
    			menu: '#menu',
    			easingcss3: 'cubic-bezier(0.175, 0.885, 0.320, 1.275)'
    		});
    	});
      </script> -->
	  <style>
		body{
		  background-color: #e7c1ed;
		}

	  </style>
</head>
<body>
    <div id="fullpage">
		<nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #4f2355">
          <a class="navbar-brand" href="../Index/index.html#psync">Home</a>
          <a class="navbar-brand " href="dining_wiki.html">Theory</a>

              <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation" >
                <span class="navbar-toggler-icon"></span>
              </button>


        </nav>
		<div class="section">
			<div class="container" id="anim">
				<!-- <img id="table" src="includes/dining_items/table.jpg" >
				<img id="food" src="includes/dining_items/noodles.jpg" > -->

				<button type="button" class="next btn btn-success btn-lg" onclick="simulate()">Next</button>
				<!-- <button type="button" class="next" onclick="simulate()">Next</button> -->

				<div>
					<img id="phil1" src="https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif" >
					<img id="phil2" src="https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif" >
					<img id="phil3" src="https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif" >
					<img id="phil4" src="https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif" >
					<img id="phil5" src="https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif" >
				</div>

				<!-- <div id="c4"></div>
				<div id="c0"></div>
				<div id="c1"></div>
				<div id="c2"></div>
				<div id="c3"></div> -->

				<!-- <img id="think" src="includes/dining_items/thinking.jpg" align="right"><div id="thinkt">Thinking</div>
				<img id="hungry" src="https://media.tenor.com/wgX4i8giG9wAAAAj/mochi-peachcat-cat.gif" align="right"><div id="hungryt">Hungry</div>
				<img id="eating" src="includes/dining_items/eating.jpg" align="right"><div id="eatingt">Eating</div> -->

				<div id="p1"> Philosopher 1</div>
				<div id="p2">Philosopher 2</div>
				<div id="p3">Philosopher 3</div>
				<div id="p4">Philosopher 4</div>
				<div id="p5">Philosopher 5</div>

				<div id="random">Random number generated : 0</div>

				<p id="ph1">Thinking</p>
				<p id="ph2">Thinking</p>
				<p id="ph3">Thinking</p>
				<p id="ph4">Thinking</p>
				<p id="ph5">Thinking</p>
			</div>
		</div>
			<div class="container">
				<table class="table-striped" id="chopsticktable">
  <thead class="thead-dark">
    <tr>
      <th scope="col" class="chopstickrow">Spoon</th>
      <th scope="col" class="chopstickrow" >Status</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th scope="row" class="chopstickrow">Spoon1</th>
      <td class="chopstickrow" id ="sp1">Unlocked</td>
    </tr>
    <tr>
			<th scope="row" class="chopstickrow">Spoon2</th>
      <td class="chopstickrow" id ="sp2">Unlocked</td>
    </tr>
    <tr>
			<th scope="row" class="chopstickrow">Spoon3</th>
      <td class="chopstickrow" id ="sp3">Unlocked</td>
    </tr>
		<tr>
			<th scope="row" class="chopstickrow">Spoon4</th>
      <td class="chopstickrow" id ="sp4">Unlocked</td>
    </tr>
		<tr>
			<th scope="row" class="chopstickrow">Spoon5</th>
			<td class="chopstickrow" id ="sp0">Unlocked</td>
		</tr>
  </tbody>
</table>
</div>

	<script>
		var phil = [0,0,0,0,0], chopsticks = [0,0,0,0,0];
		function simulate()
		{
			var n = Math.floor((Math.random() * 5) + 1);
			document.getElementById("random").innerHTML = "Random number generated : "+n;
			if(phil[n-1]==0)
			{
				phil[n-1] = 1;
				document.getElementById("phil"+n).src = "https://media.tenor.com/wgX4i8giG9wAAAAj/mochi-peachcat-cat.gif";
				document.getElementById("ph"+n).innerHTML = "Hungry";
			}
			else if(phil[n-1]==1)
			{
				if(chopsticks[n-1]==0 && chopsticks[n%5]==0)
				{
					chopsticks[n-1]=1;
					chopsticks[n%5]=1;
					phil[n-1] = 2;
					document.getElementById("phil"+n).src = "https://media.tenor.com/M9mNl_B7iOwAAAAj/eating-cats.gif";
					// document.getElementById("c"+(n+1)%5).style.display = "none";
					// document.getElementById("c"+(n)%5).style.display = "none";
					document.getElementById("ph"+n).innerHTML = "Eating";
					document.getElementById("sp"+(n+1)%5).innerHTML = "Locked";
					document.getElementById("sp"+(n)%5).innerHTML = "Locked";
				}
				else
				{
					alert("Philosopher " + n + " cannot eat now!");
				}
			}
			else if(phil[n-1]==2)
			{
					chopsticks[n-1]=0;
					chopsticks[n%5]=0;
					phil[n-1] = 0;
					document.getElementById("phil"+n).src = "https://media.tenor.com/mqvLadAFFtMAAAAj/thinking-about-question-mark.gif";
					// document.getElementById("c"+n%5).style.display = "block";
					// document.getElementById("c"+(n+1)%5).style.display = "block";
					document.getElementById("ph"+n).innerHTML = "Thinking";
					document.getElementById("sp"+n%5).innerHTML = "Unlocked";
					document.getElementById("sp"+(n+1)%5).innerHTML = "Unlocked";
			}
		}
	</script>

</body>

</html>
